(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{396:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("HELM官网：https://helm.sh/")]),s._v(" "),t("h1",{attrs:{id:"安装helm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装helm"}},[s._v("#")]),s._v(" 安装Helm")]),s._v(" "),t("ol",[t("li",[s._v("下载 "),t("a",{attrs:{href:"https://github.com/helm/helm/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("需要的版本"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("解压("),t("code",[s._v("tar -zxvf helm-v3.0.0-linux-amd64.tar.gz")]),s._v(")")]),s._v(" "),t("li",[s._v("在解压目录中找到"),t("code",[s._v("helm")]),s._v("程序，移动到需要的目录中("),t("code",[s._v("mv linux-amd64/helm /usr/local/bin/helm")]),s._v(")")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 'helm search'：查找 Charts")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 'helm install'：安装一个 helm 包")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 'helm uninstall'：卸载 release")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 'helm repo'：使用仓库")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("helm repo list"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 来查看配置的仓库：\n\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("helm repo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 来添加新的仓库：\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 创建你自己的 charts")]),s._v("\n\nhelm create deis-workflow\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[t("strong",[s._v("helm charts")])]),s._v(" "),t("p",[s._v("创建一个Chart: helm create helm-test")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("helm create helm-test\n\n├── charts\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 依赖文件")]),s._v("\n├── Chart.yaml\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前Charts的基本信息")]),s._v("\n\t\t\tapiVersion：Chart的apiVersion目前默认都是v2\n\t\t\tname：Chart的名称\n\t\t\ttype：图表的类型"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t\tversion：Chart自 己的版本号\n\t\t\tappVersion：Chart内应用的版本号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t\tdescription：Chart描述信息"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n├── templates\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模板位置")]),s._v("\n│   ├── deployment.yaml\n│   ├── _helpers.tpl\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义的模板或者函数")]),s._v("\n│   ├── hpa.yaml\n│   ├── ingress.yaml\n│   ├── NOTES.txt\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Charts安装完毕后的提示信息")]),s._v("\n│   ├── serviceaccount.yaml\n│   ├── service.yaml\n│   └── tests\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试文件")]),s._v("\n│       └── test-connection.yaml\n└── values.yaml\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置全局变量或者一些参数")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("p",[t("strong",[s._v("Helm内置变量")])]),s._v(" "),t("ul",[t("li",[s._v("Release.Name：实例的名称，helm install指定的名字")]),s._v(" "),t("li",[s._v("Release.Namespace：应用实例的命名空间")]),s._v(" "),t("li",[s._v("Release.IsUpgrade：如果当前对实例的操作是更新或者回滚，这个变量的值就会被置为true")]),s._v(" "),t("li",[s._v("Release.IsInstall：如果当前对实例的操作是安装，则这边变量被置为true")]),s._v(" "),t("li",[s._v("Release.Revision：此次修订的版本号，从1开始，每次升级回滚都会增加1")]),s._v(" "),t("li",[s._v("Chart：Chart.yaml文件中的内容，可以使用Chart.Version表示应用版本，Chart.Name 表示Chart的名称")])]),s._v(" "),t("p",[t("strong",[s._v("Helm常用函数")])]),s._v(" "),t("ul",[t("li",[s._v("https://masterminds.github.io/sprig/strings.html")])])])}),[],!1,null,null,null);t.default=n.exports}}]);