(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{427:function(t,a,s){"use strict";s.r(a);var i=s(4),g=Object(i.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nightingale-夜莺-页面介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nightingale-夜莺-页面介绍"}},[t._v("#")]),t._v(" Nightingale-夜莺-页面介绍")]),t._v(" "),a("h2",{attrs:{id:"一、n9e-数据源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、n9e-数据源"}},[t._v("#")]),t._v(" 一、n9e 数据源：")]),t._v(" "),a("h3",{attrs:{id:"时序数据源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时序数据源"}},[t._v("#")]),t._v(" 时序数据源")]),t._v(" "),a("p",[t._v("对象列表 机器的元数据展示")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505185147182.png",alt:"image-20230505185147182"}})]),t._v(" "),a("p",[t._v("仪表盘 提供内置仪表盘，仪表盘可以进行克隆")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505185113668.png",alt:"image-20230505185113668"}})]),t._v(" "),a("p",[t._v("大盘支持多种样式图表")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505185009754.png",alt:"image-20230505185009754"}})]),t._v(" "),a("p",[a("strong",[t._v("即时查询")]),t._v("：就是查看像普罗米修斯一样输入PromQL语句来查询想要的数据")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505213541792.png",alt:"image-20230505213541792"}})]),t._v(" "),a("p",[a("strong",[t._v("快捷视图")]),t._v("：夜莺内置的一些PromQL语句你可以直接点击查询想要的数据字段。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505202944694.png",alt:"image-20230505202944694"}})]),t._v(" "),a("p",[t._v("记录规则 功能")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("可以把promql的查询语句，保存成一个新的指标，再配置到大盘中，在多人查询的时候查的就是单一指标，这样可以减轻对时序库的查询压力")])]),t._v(" "),a("li",[a("p",[t._v("多个告警规则都需要对某个指标进行计算，可以把计算的promql保存成一个新的指标，来降低压力")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505212309038-1683292994986-1-1683292995612-3-1683292996363-5.png",alt:"image-20230505212309038"}})]),t._v(" "),a("h2",{attrs:{id:"二、告警的配置管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、告警的配置管理"}},[t._v("#")]),t._v(" 二、告警的配置管理")]),t._v(" "),a("p",[t._v("告警规则分为，告警规则，内置规则，屏蔽规则，订阅规则，活跃规则，历史告警")]),t._v(" "),a("h3",{attrs:{id:"_1-内置规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-内置规则"}},[t._v("#")]),t._v(" 1. 内置规则：")]),t._v(" "),a("p",[t._v("告警规则也提供了内置规则，可以进行克隆")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505190301776.png",alt:"image-20230505190301776"}})]),t._v(" "),a("h3",{attrs:{id:"_2-告警规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-告警规则"}},[t._v("#")]),t._v(" 2. 告警规则：")]),t._v(" "),a("p",[a("strong",[t._v("级别抑制")]),t._v("：我们对于某一个指标有多级别阈值的告警设置，可以通过级别抑制打开，下面的n条规则，高级别的会抑制低级别的，低级别的告警通知就不会发送了。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191003146.png",alt:"image-20230505191003146"}})]),t._v(" "),a("p",[a("strong",[t._v("机器类型的告警")]),t._v("：机器失联（失联时间）,机器集群失联（失联比例）和机器时间偏移（时间戳偏移量）")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505213014657.png",alt:"image-20230505213014657"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191249796.png",alt:"image-20230505191249796"}})]),t._v(" "),a("p",[a("strong",[t._v("执行频率")]),t._v(" 告警规则的执行频率")]),t._v(" "),a("p",[a("strong",[t._v("持续时长")]),t._v(" 符合告警规则的条件多长时间会触发告警")]),t._v(" "),a("p",[a("strong",[t._v("生效配置")]),t._v(" 支持在指定时间段收告警")]),t._v(" "),a("p",[a("strong",[t._v("仅在本业务组生效")]),t._v(" 只有本业务组的机器才会匹配这些告警")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191326284.png",alt:"image-20230505191326284"}})]),t._v(" "),a("p",[a("strong",[t._v("通知媒介")]),t._v(" 通知媒介的显示是在系统配置里面选择，如飞书，emall，手机等等")]),t._v(" "),a("p",[a("strong",[t._v("留观时长")]),t._v(" 防止指标频繁的在阈值上下波动，造成频繁的告警触发以及恢复提醒")]),t._v(" "),a("p",[a("strong",[t._v("通知间隔")]),t._v(" 重复通知间隔，减少频繁告警的干扰")]),t._v(" "),a("p",[a("strong",[t._v("最大发送次数")]),t._v(" 减少频繁告警的干扰")]),t._v(" "),a("p",[a("strong",[t._v("回调地址")]),t._v("  可以做告警自愈，告警发生后通过回调地址发送消息给故障自愈平台")]),t._v(" "),a("p",[a("strong",[t._v("附加信息")]),t._v("  备注：可以放预案连接 或 对应的大盘连接")]),t._v(" "),a("h3",{attrs:{id:"_3-告警屏蔽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-告警屏蔽"}},[t._v("#")]),t._v(" 3. 告警屏蔽：")]),t._v(" "),a("ul",[a("li",[t._v("处理告警的时候临时屏蔽（直接在告警详情点屏蔽就行）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191527176.png",alt:"image-20230505191527176"}})]),t._v(" "),a("ul",[a("li",[t._v("服务变更时候的做告警屏蔽，支持周期性的屏蔽")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191612356.png",alt:"image-20230505191612356"}})]),t._v(" "),a("h3",{attrs:{id:"_4-订阅规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-订阅规则"}},[t._v("#")]),t._v(" 4. 订阅规则：")]),t._v(" "),a("p",[t._v("在告警规则中配置的接收人员之外，比如对应业务的研发也需要收告警的话，可以配置订阅规则，订阅规则可以重新定义告警级别，媒介等等。也可以用来做告警升级，一线的同学一个小时没处理对应告警，可以把告警升级到业务负责人")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505191902305.png",alt:"image-20230505191902305"}})]),t._v(" "),a("h3",{attrs:{id:"_5-活跃告警"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-活跃告警"}},[t._v("#")]),t._v(" 5.活跃告警")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505195529573.png",alt:"image-20230505195529573"}})]),t._v(" "),a("h3",{attrs:{id:"_6-历史告警"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-历史告警"}},[t._v("#")]),t._v(" 6.历史告警")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505195610897.png",alt:"image-20230505195610897"}})]),t._v(" "),a("h3",{attrs:{id:"_7-告警自愈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-告警自愈"}},[t._v("#")]),t._v(" 7. 告警自愈")]),t._v(" "),a("p",[a("strong",[t._v("夜莺自带的告警自愈")]),t._v(" 【例】表示调用id为1的自愈规则，可指定在中控机上执行")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505200900504.png",alt:"image-20230505200900504"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505200921970.png",alt:"image-20230505200921970"}})]),t._v(" "),a("h2",{attrs:{id:"三、系统配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、系统配置"}},[t._v("#")]),t._v(" 三、系统配置")]),t._v(" "),a("h3",{attrs:{id:"_1-通知设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-通知设置"}},[t._v("#")]),t._v(" 1. 通知设置")]),t._v(" "),a("p",[a("strong",[t._v("全局回调地址")]),t._v("：把夜莺告警事件全部转发到另一个平台处理，可以通过这里的全局回调地址来实现。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505201231137.png",alt:"image-20230505201231137"}})]),t._v(" "),a("h3",{attrs:{id:"_2-通知模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-通知模板"}},[t._v("#")]),t._v(" 2. 通知模板")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/z3942/images/img/image-20230505201244747.png",alt:"image-20230505201244747"}})])])}),[],!1,null,null,null);a.default=g.exports}}]);