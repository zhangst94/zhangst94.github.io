(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{370:function(s,n,t){"use strict";t.r(n);var a=t(4),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"docker-compose基本命令介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose基本命令介绍"}},[s._v("#")]),s._v(" Docker Compose基本命令介绍")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、基础命令\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获得一个命令的帮助")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" version                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看docker-compose版本信息")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、构建、卸载\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("                      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#构建启动某个容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" down                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止并删除所有容器、网络、镜像等")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、启动、停止、重启、删除容器\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" stop \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" start                    \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" restart \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("                         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除容器（删除前必须关闭容器，执行stop）")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、列出所有容器\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、进入到容器中\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("  /bin/bash            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#登录到容器中")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("、查看容器的实时日志\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" logs  "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看容器的实时日志")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" logs "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--tail")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看容器的实时日志(从最后10行开始)")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("、列出所有镜像\ndocker-compse images\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("、检查并查看配置信息\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" config                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置错误时，会输出错误信息")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("、查看各个容器内运行的进程\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("、其它\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" build                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#构建镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" build --no-cache             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不带缓存的构建")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" events "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--json")]),s._v("                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以json形式输出容器的日志")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" pause                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#暂停容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" unpause                      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#恢复容器")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("h3",{attrs:{id:"docker-compose-yml常用参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml常用参数"}},[s._v("#")]),s._v(" docker-compose.yml常用参数")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("version: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.7"')]),s._v("\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\nnetworks:\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定创建的虚拟网络")]),s._v("\n  nightingale:\n    driver: bridge\nservices:\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务")]),s._v("\n  mysql:\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务名称")]),s._v("\n    image: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql:5.7"')]),s._v("\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像名 ： 仓库/标签:版本")]),s._v("\n    container_name: mysql\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义容器名称")]),s._v("\n    hostname: mysql\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定容器中的主机名")]),s._v("\n    restart: always\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定重启策略")]),s._v("\n    ports:\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暴露端口")]),s._v("\n      - "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3406:3306"')]),s._v("\n    environment:\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置环境变量")]),s._v("\n      TZ: Asia/Shanghai\n      MYSQL_ROOT_PASSWORD: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v("\n    volumes:\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂载数据卷的默认权限是读写（rw），可以通过ro指定为只读。 ")]),s._v("\n      - ./mysqldata:/var/lib/mysql/\n    networks:\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定创建的虚拟网络")]),s._v("\n      - nightingale\n    command:\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 覆盖容器启动后默认执行的命令。可以写成字符串形式")]),s._v("\n    depends_on:\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义容器启动顺序")]),s._v("\n      - mysql\n      - redis\n    links:\t\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接到其他服务的容器\t\t")]),s._v("\n      - mysql:mysql\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);