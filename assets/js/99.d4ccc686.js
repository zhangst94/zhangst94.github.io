(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{421:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"权限及如何设计数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限及如何设计数据库"}},[s._v("#")]),s._v(" 权限及如何设计数据库")]),s._v(" "),t("h3",{attrs:{id:"用户管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[s._v("#")]),s._v(" 用户管理")]),s._v(" "),t("blockquote",[t("p",[s._v("基本命令")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 用户和权限管理 */")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------------------")]),s._v("\n用户信息表：mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 刷新权限")]),s._v("\nFLUSH "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 增加用户 CREATE USER kuangshen IDENTIFIED BY '123456'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" 用户名 IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 密码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字符串"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 必须拥有mysql数据库的全局"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v("权限，或拥有"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("权限。\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 只能创建用户，不能赋予权限。\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 用户名，注意引号：如 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user_name'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'192.168.1.1'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 密码也需引号，纯数字密码也要加引号\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 要在纯文本中指定密码，需忽略PASSWORD关键词。要把密码指定为由PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("函数返回的混编值，需包含关键字PASSWORD\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 重命名用户 RENAME USER kuangshen TO kuangshen2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" old_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" new_user\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 设置密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" PASSWORD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 为当前用户设置密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" PASSWORD "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" 用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 为指定用户设置密码")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除用户 DROP USER kuangshen2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" 用户名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 分配权限/添加用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" 权限列表 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" 用户名 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),s._v(" 表示所有权限\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" 表示所有库的所有表\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 库名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("表名 表示某库下面的某表\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看权限   SHOW GRANTS FOR root@localhost;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" 用户名\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看当前用户权限")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 或 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CURRENT_USER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 或 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CURRENT_USER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 撤消权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" 权限列表 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 用户名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 用户名    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 撤销所有权限")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("blockquote",[t("p",[s._v("权限解释")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 权限列表")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 设置除GRANT OPTION之外的所有简单权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用ALTER TABLE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROUTINE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 更改或取消已存储的子程序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CREATE TABLE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROUTINE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建已存储的子程序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TEMPORARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLES")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CREATE TEMPORARY TABLE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CREATE USER, DROP USER, RENAME USER和REVOKE ALL PRIVILEGES。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CREATE VIEW")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用DELETE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用DROP TABLE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXECUTE")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许用户运行已存储的子程序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FILE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用SELECT...INTO OUTFILE和LOAD DATA INFILE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CREATE INDEX和DROP INDEX")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用INSERT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLES")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许对您拥有SELECT权限的表使用LOCK TABLES")]),s._v("\nPROCESS     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用SHOW FULL PROCESSLIST")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 未被实施")]),s._v("\nRELOAD    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用FLUSH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REPLICATION")]),s._v(" CLIENT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许用户询问从属服务器或主服务器的地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REPLICATION")]),s._v(" SLAVE    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 用于复制型从属服务器（从主服务器中读取二进制日志事件）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用SELECT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASES")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 显示所有数据库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用SHOW CREATE VIEW")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHUTDOWN")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用mysqladmin shutdown")]),s._v("\nSUPER    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用CHANGE MASTER, KILL, PURGE MASTER LOGS和SET GLOBAL语句，mysqladmin debug命令；允许您连接（一次），即使已达到max_connections。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许使用UPDATE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USAGE")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- “无权限”的同义词")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 允许授予权限")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 表维护 */")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 分析和存储表的关键字分布")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ANALYZE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NO_WRITE_TO_BINLOG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 检查一个或多个表是否有错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tbl_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" {"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("QUICK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" FAST "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" MEDIUM "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXTENDED")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" CHANGED}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 整理数据文件的碎片")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTIMIZE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NO_WRITE_TO_BINLOG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" tbl_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tbl_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br")])]),t("h3",{attrs:{id:"mysql备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql备份"}},[s._v("#")]),s._v(" MySQL备份")]),s._v(" "),t("p",[s._v("数据库备份必要性")]),s._v(" "),t("ul",[t("li",[s._v("保证重要数据不丢失")]),s._v(" "),t("li",[s._v("数据转移")])]),s._v(" "),t("p",[s._v("MySQL数据库备份方法")]),s._v(" "),t("ul",[t("li",[s._v("mysqldump备份工具")]),s._v(" "),t("li",[s._v("数据库管理工具,如SQLyog")]),s._v(" "),t("li",[s._v("直接拷贝数据库文件和相关配置文件")])]),s._v(" "),t("p",[t("strong",[s._v("mysqldump客户端")])]),s._v(" "),t("p",[s._v("作用 :")]),s._v(" "),t("ul",[t("li",[s._v("转储数据库")]),s._v(" "),t("li",[s._v("搜集数据库进行备份")]),s._v(" "),t("li",[s._v("将数据转移到另一个SQL服务器,不一定是MySQL服务器")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 导出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 导出一张表 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- mysqldump -uroot -p123456 school student >D:/a.sql")]),s._v("\n　　mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p密码 库名 表名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("D:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 导出多张表 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- mysqldump -uroot -p123456 school student result >D:/a.sql")]),s._v("\n　　mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p密码 库名 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("D:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 导出所有表 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- mysqldump -uroot -p123456 school >D:/a.sql")]),s._v("\n　　mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p密码 库名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("D:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 导出一个库 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- mysqldump -uroot -p123456 -B school >D:/a.sql")]),s._v("\n　　mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p密码 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("B 库名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("D:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n可以"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w携带备份条件\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 导入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 在登录mysql的情况下："),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- source D:/a.sql")]),s._v("\n　　source 备份文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 在不登录的情况下\n　　mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p密码 库名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" 备份文件\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"规范化数据库设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#规范化数据库设计"}},[s._v("#")]),s._v(" 规范化数据库设计")]),s._v(" "),t("h3",{attrs:{id:"为什么需要数据库设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要数据库设计"}},[s._v("#")]),s._v(" 为什么需要数据库设计")]),s._v(" "),t("p",[t("strong",[s._v("当数据库比较复杂时我们需要设计数据库")])]),s._v(" "),t("p",[t("strong",[s._v("糟糕的数据库设计 :")])]),s._v(" "),t("ul",[t("li",[s._v("数据冗余,存储空间浪费")]),s._v(" "),t("li",[s._v("数据更新和插入的异常")]),s._v(" "),t("li",[s._v("程序性能差")])]),s._v(" "),t("p",[t("strong",[s._v("良好的数据库设计 :")])]),s._v(" "),t("ul",[t("li",[s._v("节省数据的存储空间")]),s._v(" "),t("li",[s._v("能够保证数据的完整性")]),s._v(" "),t("li",[s._v("方便进行数据库应用系统的开发")])]),s._v(" "),t("p",[t("strong",[s._v("软件项目开发周期中数据库设计 :")])]),s._v(" "),t("ul",[t("li",[s._v("需求分析阶段: 分析客户的业务和数据处理需求")]),s._v(" "),t("li",[s._v("概要设计阶段:设计数据库的E-R模型图 , 确认需求信息的正确和完整.")])]),s._v(" "),t("p",[t("strong",[s._v("设计数据库步骤")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("收集信息")])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("与该系统有关人员进行交流 , 座谈 , 充分了解用户需求 , 理解数据库需要完成的任务.")])])]),s._v(" "),t("li",[t("p",[s._v("标识实体[Entity]")])]),s._v(" "),t("li"),s._v(" "),t("li",[t("ul",[t("li",[s._v("标识数据库要管理的关键对象或实体,实体一般是名词")])])]),s._v(" "),t("li",[t("p",[s._v("标识每个实体需要存储的详细信息[Attribute]")])]),s._v(" "),t("li",[t("p",[s._v("标识实体之间的关系[Relationship]")])])]),s._v(" "),t("h3",{attrs:{id:"三大范式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三大范式"}},[s._v("#")]),s._v(" 三大范式")]),s._v(" "),t("p",[t("strong",[s._v("问题 : 为什么需要数据规范化?")])]),s._v(" "),t("p",[s._v("不合规范的表设计会导致的问题：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("信息重复")])]),s._v(" "),t("li",[t("p",[s._v("更新异常")])]),s._v(" "),t("li",[t("p",[s._v("插入异常")])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("无法正确表示信息")])])]),s._v(" "),t("li",[t("p",[s._v("删除异常")])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("丢失有效信息")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("三大范式")])]),s._v(" "),t("p",[t("strong",[s._v("第一范式 (1st NF)")])]),s._v(" "),t("p",[s._v("第一范式的目标是确保每列的原子性,如果每列都是不可再分的最小数据单元,则满足第一范式")]),s._v(" "),t("p",[t("strong",[s._v("第二范式(2nd NF)")])]),s._v(" "),t("p",[s._v("第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。")]),s._v(" "),t("p",[s._v("第二范式要求每个表只描述一件事情")]),s._v(" "),t("p",[t("strong",[s._v("第三范式(3rd NF)")])]),s._v(" "),t("p",[s._v("如果一个关系满足第二范式,并且除了主键以外的其他列都不传递依赖于主键列,则满足第三范式.")]),s._v(" "),t("p",[s._v("第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。")]),s._v(" "),t("p",[t("strong",[s._v("规范化和性能的关系")])]),s._v(" "),t("p",[s._v("为满足某种商业目标 , 数据库性能比规范化数据库更重要")]),s._v(" "),t("p",[s._v("在数据规范化的同时 , 要综合考虑数据库的性能")]),s._v(" "),t("p",[s._v("通过在给定的表中添加额外的字段,以大量减少需要从中搜索信息所需的时间")]),s._v(" "),t("p",[s._v("通过在给定的表中插入计算列,以方便查询")])])}),[],!1,null,null,null);t.default=e.exports}}]);