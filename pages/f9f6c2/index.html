<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>K8S资源调度-RC&amp;RS | 运维技术笔记</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/imgs/favicon.ico">
    <meta name="description" content="运维技术博客，积跬步以至千里，致敬每个爱学习的你">
    <meta name="keywords" content="个人技术博客,技术文档">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.44f28885.css" as="style"><link rel="preload" href="/assets/js/app.ff83aef7.js" as="script"><link rel="preload" href="/assets/js/2.e4478836.js" as="script"><link rel="preload" href="/assets/js/52.eef6f2a5.js" as="script"><link rel="prefetch" href="/assets/js/10.52ab9d51.js"><link rel="prefetch" href="/assets/js/100.1857e137.js"><link rel="prefetch" href="/assets/js/101.1890600f.js"><link rel="prefetch" href="/assets/js/102.7012b4bb.js"><link rel="prefetch" href="/assets/js/103.a6b991c7.js"><link rel="prefetch" href="/assets/js/104.b9257dce.js"><link rel="prefetch" href="/assets/js/105.c3c52012.js"><link rel="prefetch" href="/assets/js/106.64058061.js"><link rel="prefetch" href="/assets/js/107.a37b1271.js"><link rel="prefetch" href="/assets/js/108.f3f2644b.js"><link rel="prefetch" href="/assets/js/109.45b0c459.js"><link rel="prefetch" href="/assets/js/11.348e09eb.js"><link rel="prefetch" href="/assets/js/110.52696f9e.js"><link rel="prefetch" href="/assets/js/111.5ec60f39.js"><link rel="prefetch" href="/assets/js/112.ec5fe640.js"><link rel="prefetch" href="/assets/js/113.084ab123.js"><link rel="prefetch" href="/assets/js/114.71eb8e47.js"><link rel="prefetch" href="/assets/js/115.32ffa2a4.js"><link rel="prefetch" href="/assets/js/116.1343b6cd.js"><link rel="prefetch" href="/assets/js/117.df0dcc03.js"><link rel="prefetch" href="/assets/js/118.de32b468.js"><link rel="prefetch" href="/assets/js/119.5e05a713.js"><link rel="prefetch" href="/assets/js/12.56ffb67a.js"><link rel="prefetch" href="/assets/js/120.90a4f281.js"><link rel="prefetch" href="/assets/js/121.b08c2f89.js"><link rel="prefetch" href="/assets/js/122.bebac8d5.js"><link rel="prefetch" href="/assets/js/123.70b2c752.js"><link rel="prefetch" href="/assets/js/124.ee663653.js"><link rel="prefetch" href="/assets/js/125.e16a9c74.js"><link rel="prefetch" href="/assets/js/126.777ed4a5.js"><link rel="prefetch" href="/assets/js/127.74e49495.js"><link rel="prefetch" href="/assets/js/128.623f6baf.js"><link rel="prefetch" href="/assets/js/129.afebfc59.js"><link rel="prefetch" href="/assets/js/13.08862d3f.js"><link rel="prefetch" href="/assets/js/130.a25d8347.js"><link rel="prefetch" href="/assets/js/131.15123040.js"><link rel="prefetch" href="/assets/js/132.228e6d11.js"><link rel="prefetch" href="/assets/js/133.55f18c73.js"><link rel="prefetch" href="/assets/js/134.1b48e840.js"><link rel="prefetch" href="/assets/js/135.9589d4eb.js"><link rel="prefetch" href="/assets/js/136.907aba41.js"><link rel="prefetch" href="/assets/js/137.7d3af1e6.js"><link rel="prefetch" href="/assets/js/138.e4e6009e.js"><link rel="prefetch" href="/assets/js/139.dfc3843f.js"><link rel="prefetch" href="/assets/js/14.52044c25.js"><link rel="prefetch" href="/assets/js/140.69c755af.js"><link rel="prefetch" href="/assets/js/141.d2d2f667.js"><link rel="prefetch" href="/assets/js/142.d2210074.js"><link rel="prefetch" href="/assets/js/143.5437963a.js"><link rel="prefetch" href="/assets/js/144.bc84e8f1.js"><link rel="prefetch" href="/assets/js/145.de58c85d.js"><link rel="prefetch" href="/assets/js/146.ec056ea7.js"><link rel="prefetch" href="/assets/js/147.21763bff.js"><link rel="prefetch" href="/assets/js/148.f106f8c4.js"><link rel="prefetch" href="/assets/js/15.ee7579c0.js"><link rel="prefetch" href="/assets/js/16.25869602.js"><link rel="prefetch" href="/assets/js/17.ac02c623.js"><link rel="prefetch" href="/assets/js/18.0cbba945.js"><link rel="prefetch" href="/assets/js/19.b3d532d8.js"><link rel="prefetch" href="/assets/js/20.02e842be.js"><link rel="prefetch" href="/assets/js/21.4e328e04.js"><link rel="prefetch" href="/assets/js/22.75d65205.js"><link rel="prefetch" href="/assets/js/23.7ad78c67.js"><link rel="prefetch" href="/assets/js/24.29059acc.js"><link rel="prefetch" href="/assets/js/25.9294d9f4.js"><link rel="prefetch" href="/assets/js/26.a5381927.js"><link rel="prefetch" href="/assets/js/27.30ff5d31.js"><link rel="prefetch" href="/assets/js/28.807737f2.js"><link rel="prefetch" href="/assets/js/29.f94bede1.js"><link rel="prefetch" href="/assets/js/3.602cbeca.js"><link rel="prefetch" href="/assets/js/30.cb467d3c.js"><link rel="prefetch" href="/assets/js/31.71830403.js"><link rel="prefetch" href="/assets/js/32.f441febc.js"><link rel="prefetch" href="/assets/js/33.6936c023.js"><link rel="prefetch" href="/assets/js/34.aa1da875.js"><link rel="prefetch" href="/assets/js/35.260c84c1.js"><link rel="prefetch" href="/assets/js/36.00aa73bf.js"><link rel="prefetch" href="/assets/js/37.981f7479.js"><link rel="prefetch" href="/assets/js/38.03635608.js"><link rel="prefetch" href="/assets/js/39.f0b194af.js"><link rel="prefetch" href="/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/assets/js/40.2c37633e.js"><link rel="prefetch" href="/assets/js/41.8359d41f.js"><link rel="prefetch" href="/assets/js/42.824fd1a7.js"><link rel="prefetch" href="/assets/js/43.c7dbc936.js"><link rel="prefetch" href="/assets/js/44.d4d3017a.js"><link rel="prefetch" href="/assets/js/45.3d6f1906.js"><link rel="prefetch" href="/assets/js/46.f04b397d.js"><link rel="prefetch" href="/assets/js/47.29b4bd1e.js"><link rel="prefetch" href="/assets/js/48.c41e811d.js"><link rel="prefetch" href="/assets/js/49.86a92706.js"><link rel="prefetch" href="/assets/js/5.20b1f052.js"><link rel="prefetch" href="/assets/js/50.8f4d5d52.js"><link rel="prefetch" href="/assets/js/51.ae98a632.js"><link rel="prefetch" href="/assets/js/53.288a2c34.js"><link rel="prefetch" href="/assets/js/54.ca8519bb.js"><link rel="prefetch" href="/assets/js/55.c68c02af.js"><link rel="prefetch" href="/assets/js/56.764027ee.js"><link rel="prefetch" href="/assets/js/57.e66955e3.js"><link rel="prefetch" href="/assets/js/58.65d82ca7.js"><link rel="prefetch" href="/assets/js/59.8c7d8021.js"><link rel="prefetch" href="/assets/js/6.117df427.js"><link rel="prefetch" href="/assets/js/60.a7717958.js"><link rel="prefetch" href="/assets/js/61.f2234096.js"><link rel="prefetch" href="/assets/js/62.0975d1f9.js"><link rel="prefetch" href="/assets/js/63.6b4a98a2.js"><link rel="prefetch" href="/assets/js/64.87f76657.js"><link rel="prefetch" href="/assets/js/65.1a214a9d.js"><link rel="prefetch" href="/assets/js/66.17496a38.js"><link rel="prefetch" href="/assets/js/67.7010581e.js"><link rel="prefetch" href="/assets/js/68.2a82295a.js"><link rel="prefetch" href="/assets/js/69.fa5521f2.js"><link rel="prefetch" href="/assets/js/7.734b9314.js"><link rel="prefetch" href="/assets/js/70.b98a93ee.js"><link rel="prefetch" href="/assets/js/71.b86293e6.js"><link rel="prefetch" href="/assets/js/72.af5b5715.js"><link rel="prefetch" href="/assets/js/73.6cca4579.js"><link rel="prefetch" href="/assets/js/74.cc567bc3.js"><link rel="prefetch" href="/assets/js/75.6f849f86.js"><link rel="prefetch" href="/assets/js/76.163b3ebb.js"><link rel="prefetch" href="/assets/js/77.1707618a.js"><link rel="prefetch" href="/assets/js/78.4dd46cb2.js"><link rel="prefetch" href="/assets/js/79.afaf1984.js"><link rel="prefetch" href="/assets/js/8.bbb15a0b.js"><link rel="prefetch" href="/assets/js/80.83c95867.js"><link rel="prefetch" href="/assets/js/81.8d050311.js"><link rel="prefetch" href="/assets/js/82.b49696a4.js"><link rel="prefetch" href="/assets/js/83.1658ba7c.js"><link rel="prefetch" href="/assets/js/84.4d61c624.js"><link rel="prefetch" href="/assets/js/85.c0639c78.js"><link rel="prefetch" href="/assets/js/86.061e2dd4.js"><link rel="prefetch" href="/assets/js/87.2ead0414.js"><link rel="prefetch" href="/assets/js/88.d4c09c55.js"><link rel="prefetch" href="/assets/js/89.24585fec.js"><link rel="prefetch" href="/assets/js/9.76379761.js"><link rel="prefetch" href="/assets/js/90.97829613.js"><link rel="prefetch" href="/assets/js/91.95cbbfb2.js"><link rel="prefetch" href="/assets/js/92.a26ed5cd.js"><link rel="prefetch" href="/assets/js/93.f7e9ec93.js"><link rel="prefetch" href="/assets/js/94.a5e34e19.js"><link rel="prefetch" href="/assets/js/95.4eedbabc.js"><link rel="prefetch" href="/assets/js/96.baaeea76.js"><link rel="prefetch" href="/assets/js/97.afa3b440.js"><link rel="prefetch" href="/assets/js/98.9022c603.js"><link rel="prefetch" href="/assets/js/99.b145e5c5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.44f28885.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/imgs/logo.png" alt="运维技术笔记" class="logo"> <span class="site-name can-hide">运维技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/yunwei/" class="nav-link">运维</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/book/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/zhangst94/zhangst94.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/imgs/t.jpg"> <div class="blogger-info"><h3>Zhang</h3> <span>运维小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/yunwei/" class="nav-link">运维</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/book/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/zhangst94/zhangst94.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tomcat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker-compose</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Containerd</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dragonfly</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>K8S</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>K8S安装篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>K8S基础篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/afe0a1/" class="sidebar-link">K8S基础概念</a></li><li><a href="/pages/f9f6c2/" aria-current="page" class="active sidebar-link">K8S资源调度-RC&amp;RS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/f9f6c2/#_1、replication-controller-和-replicaset" class="sidebar-link">1、Replication Controller 和 ReplicaSet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/f9f6c2/#_1-1replication-controller" class="sidebar-link">1.1Replication Controller</a></li><li class="sidebar-sub-header level3"><a href="/pages/f9f6c2/#_1-2replicaset" class="sidebar-link">1.2ReplicaSet</a></li></ul></li></ul></li><li><a href="/pages/4b4543/" class="sidebar-link">K8S资源调度-Deployment</a></li><li><a href="/pages/4c9852/" class="sidebar-link">K8S资源调度-StatefulSet</a></li><li><a href="/pages/dc38eb/" class="sidebar-link">K8S资源调度-DaemonSet</a></li><li><a href="/pages/5f2ba1/" class="sidebar-link">K8S资源调度-HPA</a></li><li><a href="/pages/fb354c/" class="sidebar-link">K8S-LabelSelector</a></li><li><a href="/pages/33c3be/" class="sidebar-link">K8S服务发布-Service</a></li><li><a href="/pages/7a7dec/" class="sidebar-link">K8S服务发布-Ingress</a></li><li><a href="/pages/bf977c/" class="sidebar-link">K8S配置管理-Configmap</a></li><li><a href="/pages/2e489a/" class="sidebar-link">K8S配置管理-Secret</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>K8S进阶篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>K8S高级篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>K8S运维篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>K8S拓展篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>实践记录</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MYSQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Oracle</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jenkins</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ZooKeeper</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kafka</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mq</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nightingale</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Prometheus</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VictoriaMetrics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Zabbix</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenLDAP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>混沌工程</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/yunwei/#运维" data-v-06225672>运维</a></li><li data-v-06225672><a href="/yunwei/#K8S" data-v-06225672>K8S</a></li><li data-v-06225672><a href="/yunwei/#K8S基础篇" data-v-06225672>K8S基础篇</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/zhangst94" target="_blank" title="作者" class="beLink" data-v-06225672>zhang</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-05-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">K8S资源调度-RC&amp;RS<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="rc-rs"><a href="#rc-rs" class="header-anchor">#</a> RC&amp;RS</h1> <h2 id="_1、replication-controller-和-replicaset"><a href="#_1、replication-controller-和-replicaset" class="header-anchor">#</a> 1、Replication Controller 和 ReplicaSet</h2> <p>Replication Controller（复制控制器，RC）和 ReplicaSet（复制集，RS）是两种简单部署 Pod 的方式。因为在生产环境中，主要使用更高级的 Deployment 等方式进行 Pod 的管理和部署，</p> <h3 id="_1-1replication-controller"><a href="#_1-1replication-controller" class="header-anchor">#</a> 1.1Replication Controller</h3> <p>​		 Replication Controller（简称 RC）可确保 Pod 副本数达到期望值，也就是 RC 定义的数量。 换句话说，Replication Controller 可确保一个 Pod 或一组同类 Pod 总是可用。</p> <div class="language- extra-class"><pre><code>	如果存在的 Pod 大于设定的值，则 Replication Controller 将终止额外的 Pod。如果太小， Replication Controller 将启动更多的 Pod 用于保证达到期望值。与手动创建 Pod 不同的是，用 Replication Controller 维护的 Pod 在失败、删除或终止时会自动替换。因此即使应用程序只需要 一个 Pod，也应该使用 Replication Controller 或其他方式管理。Replication Controller 类似于进程 管理程序，但是 Replication Controller 不是监视单个节点上的各个进程，而是监视多个节点上的 多个 Pod。
</code></pre></div><p>​	 定义一个 Replication Controller 的示例如下。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicationController
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
	<span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
	<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
	<span class="token key atrule">selector</span><span class="token punctuation">:</span>
	<span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
<span class="token key atrule">template</span><span class="token punctuation">:</span>
	<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
		<span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
		<span class="token key atrule">labels</span><span class="token punctuation">:</span>
			<span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
	<span class="token key atrule">containers</span><span class="token punctuation">:</span>
		<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
			<span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
			<span class="token key atrule">ports</span><span class="token punctuation">:</span>
			<span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_1-2replicaset"><a href="#_1-2replicaset" class="header-anchor">#</a> 1.2ReplicaSet</h3> <p>​		ReplicaSet 是支持基于集合的标签选择器的下一代 Replication Controller，它主要用作 Deployment 协调创建、删除和更新 Pod，和 Replication Controller 唯一的区别是，ReplicaSet 支持 标签选择器。在实际应用中，虽然 ReplicaSet 可以单独使用，但是一般建议使用 Deployment 来 自动管理 ReplicaSet，除非自定义的 Pod 不需要更新或有其他编排等。</p> <p>​		定义一个 ReplicaSet 的示例如下：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
	<span class="token key atrule">name</span><span class="token punctuation">:</span> frontend
	<span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> guestbook
        <span class="token key atrule">tier</span><span class="token punctuation">:</span> frontend
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
	<span class="token comment"># modify replicas according to your case</span>
	<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
	<span class="token key atrule">selector</span><span class="token punctuation">:</span>
		<span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
			<span class="token key atrule">tier</span><span class="token punctuation">:</span> frontend
		<span class="token key atrule">matchExpressions</span><span class="token punctuation">:</span>
			<span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">key</span><span class="token punctuation">:</span> tier<span class="token punctuation">,</span> <span class="token key atrule">operator</span><span class="token punctuation">:</span> In<span class="token punctuation">,</span> <span class="token key atrule">values</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>frontend<span class="token punctuation">]</span><span class="token punctuation">}</span>
	<span class="token key atrule">template</span><span class="token punctuation">:</span>
    	<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
            <span class="token key atrule">labels</span><span class="token punctuation">:</span>
            <span class="token key atrule">app</span><span class="token punctuation">:</span> guestbook
            <span class="token key atrule">tier</span><span class="token punctuation">:</span> frontend
     <span class="token key atrule">spec</span><span class="token punctuation">:</span>
        <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> php<span class="token punctuation">-</span>redis
             <span class="token key atrule">image</span><span class="token punctuation">:</span> gcr.io/google_samples/gb<span class="token punctuation">-</span>frontend<span class="token punctuation">:</span>v3
             <span class="token key atrule">resources</span><span class="token punctuation">:</span>
                  <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 100m
                 <span class="token key atrule">memory</span><span class="token punctuation">:</span> 100Mi
            <span class="token key atrule">env</span><span class="token punctuation">:</span>
             <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> GET_HOSTS_FROM
             <span class="token key atrule">value</span><span class="token punctuation">:</span> dns
 <span class="token comment"># If your cluster config does not include a dns service, then to</span>
 <span class="token comment"># instead access environment variables to find service host</span>
 <span class="token comment"># info, comment out the 'value: dns' line above, and uncomment </span>
the
 <span class="token comment"># line below.</span>
 <span class="token comment"># value: env</span>
                <span class="token key atrule">ports</span><span class="token punctuation">:</span>
                <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>​		Replication Controller 和 ReplicaSet 的创建删除和 Pod 并无太大区别，Replication Controller 目前几乎已经不在生产环境中使用，ReplicaSet 也很少单独被使用，都是使用更高级的资源 Deployment、DaemonSet、StatefulSet 进行管理 Pod。</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/zhangst94/zhangst94.github.io/edit/main/docs/01.运维/25.K8S/02.K8S基础篇/02.K8S资源调度-RC&amp;RS.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/07/03, 13:23:27</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/afe0a1/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">K8S基础概念</div></a> <a href="/pages/4b4543/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">K8S资源调度-Deployment</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/afe0a1/" class="prev">K8S基础概念</a></span> <span class="next"><a href="/pages/4b4543/">K8S资源调度-Deployment</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/5aff14/"><div>
            提问的智慧
            <!----></div></a> <span class="date">07-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/cc33f8/"><div>
            混沌工程
            <!----></div></a> <span class="date">07-01</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b606dc/"><div>
            Docker In Docker
            <!----></div></a> <span class="date">07-01</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:12345@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/zhangst94" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>zhang | <a href="https://github.com/zhangst94/zhangst94.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.ff83aef7.js" defer></script><script src="/assets/js/2.e4478836.js" defer></script><script src="/assets/js/52.eef6f2a5.js" defer></script>
  </body>
</html>
